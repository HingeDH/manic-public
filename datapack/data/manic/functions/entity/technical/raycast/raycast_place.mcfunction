execute unless block ^ ^ ^0.01 #manic:raycast_ignore positioned ^ ^ ^0.01 positioned ~ ~1 ~ if predicate manic:block/place_valid align xyz positioned ~ ~-1 ~ unless entity @e[dy=1,tag=smithed.block] run function manic:entity/technical/raycast/as_entity_place
execute if entity @s[distance=..5] if block ^ ^ ^0.01 #manic:raycast_ignore positioned ^ ^ ^0.01 run function manic:entity/technical/raycast/raycast_place
